<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Shane Wilson for Ibex: Winter 2026 Market Map</title>
  <style>
    :root {
      --bg: #f8fafc;
      --surface: #fff;
      --ink: #111827;
      --muted: #6b7280;
      --line: #e5e7eb;
      --brand: #7c3aed;
      --brand-soft: #ede9fe;
    }
    * { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Inter, sans-serif;
      background: radial-gradient(1000px 450px at top, #f3f0ff 0%, var(--bg) 45%, #f8fafc 100%);
      color: var(--ink);
      padding: 20px 12px 28px;
    }
    .container { max-width: 1400px; margin: 0 auto; }
    .header { text-align: center; margin-bottom: 18px; padding-bottom: 14px; border-bottom: 1px solid var(--line); }
    h1 { font-size: clamp(1.6rem, 4vw, 2.6rem); color: #5b35ba; margin-bottom: 8px; }
    .subtitle { color: var(--muted); }
    .nav {
      display: flex; justify-content: center; gap: 10px; margin: 12px 0 16px; flex-wrap: wrap;
    }
    .nav a {
      text-decoration: none; padding: 8px 13px; border-radius: 999px;
      border: 1px solid #ddd6fe; background: #ede9fe; color: #5d2cc5; font-weight: 600;
    }
    .nav a.active { background: var(--brand); color: #fff; border-color: var(--brand); }

    .status {
      margin: 0 auto 14px; max-width: 900px; border: 1px solid var(--line);
      background: #fff; padding: 11px 13px; border-radius: 10px; font-size: 14px;
    }
    .status.error { border-color: #fecaca; background: #fff1f2; color: #991b1b; }
    .status.ok { border-color: #bbf7d0; background: #ecfdf5; color: #065f46; }

    .controls {
      display: grid; grid-template-columns: 1.3fr 1fr; gap: 12px; margin: 10px auto 18px;
      align-items: start;
    }
    .search input {
      width: 100%; padding: 11px 13px; border-radius: 12px; border: 1px solid var(--line);
      font-size: 14px; outline: none; background: #fff;
    }
    .pillbar { display: flex; flex-wrap: wrap; gap: 8px; justify-content: flex-end; }
    .pill {
      display: inline-block; padding: 8px 12px; border-radius: 999px;
      border: 1px solid #ddd6fe; background: var(--brand-soft); color: #5d2cc5;
      font-size: 12px; font-weight: 700; text-decoration: none;
    }

    .section { margin-bottom: 16px; }
    .section-header { display: flex; justify-content: space-between; margin-bottom: 8px; }
    .section-title { font-weight: 800; }
    .section-count { color: var(--muted); font-size: 12px; text-transform: uppercase; }

    .grid { display: grid; grid-template-columns: repeat(5, minmax(0, 1fr)); gap: 10px; }
    .card {
      border: 1px solid #e9d5ff; background: #fff; border-radius: 12px; padding: 12px 10px;
      min-height: 122px; text-align: center; cursor: pointer; position: relative;
    }
    .logo-shell {
      width: 84px; height: 58px; margin: 0 auto 8px; border: 1px solid #eef0f4;
      border-radius: 9px; padding: 7px; display: flex; align-items: center; justify-content: center;
      background: #fff;
    }
    .logo { width: 100%; height: 100%; object-fit: contain; display: none; }
    .placeholder { font-size: 11px; color: #7c3aed; font-weight: 700; line-height: 1.2; }
    .name { font-size: 12.5px; font-weight: 700; color: #374151; line-height: 1.25; }

    .tooltip {
      position: absolute; left: 50%; bottom: calc(100% + 10px); transform: translateX(-50%);
      width: min(90vw, 340px); background: rgba(17,24,39,.96); color: #fff; padding: 12px;
      border-radius: 12px; font-size: 12px; line-height: 1.35; box-shadow: 0 10px 30px rgba(0,0,0,.25);
      opacity: 0; pointer-events: none; transition: opacity .15s ease, transform .15s ease; z-index: 20; text-align: left;
    }
    .card:hover .tooltip { opacity: 1; transform: translateX(-50%) translateY(-2px); }

    @media (max-width:1100px) { .grid { grid-template-columns: repeat(3, minmax(0, 1fr)); } }
    @media (max-width:900px) { .controls { grid-template-columns: 1fr; } .pillbar { justify-content: flex-start; } }
    @media (max-width:760px) { .grid { grid-template-columns: repeat(2, minmax(0, 1fr)); } }
    @media (max-width:520px) { .grid { grid-template-columns: 1fr; } }
    @media (hover: none) { .tooltip { display: none; } }
  </style>
</head>
<body>
  <div class="container">
    <div class="header">
      <h1>Shane Wilson for Ibex: Winter 2026 Market Map</h1>
      <div class="subtitle">Landscape of relevant companies, grouped by category</div>
      <div class="nav">
        <a class="active" href="index.html">Market Map</a>
        <a href="sales_funnel.html">Deal Flow</a>
      </div>
    </div>

    <div id="status" class="status">Loading dataâ€¦</div>

    <div class="controls">
      <div class="search">
        <input id="search" type="text" placeholder="Search companies (name, about, category)" />
      </div>
      <div class="pillbar" id="pillbar"></div>
    </div>

    <div id="sections"></div>
  </div>

  <script>
    const CONFIG = {
      endpointBase: "https://script.google.com/macros/s/AKfycbyRF62OEmU
